<div class="toc-container">
<nav class="all-pages-toc">
  {% assign sidebar = site.data.toc %}
  <ul id="docnavsidebar" class="parent">
      {% for parent in sidebar.firstLevel %}
      <li class="">
        <span class="toc-heading">
          {{ parent.title }}
        </span>

          {% if parent.secondLevel %}
          <ul class="child closed">
              {% for child in parent.secondLevel %}
              <li class="{%- if page.url == child.url -%}toc-active{%- endif -%}">
                {% if child.url %}
                <span class="toc-heading">
                  <a href="{{ child.url | prepend:site.baseurl }}">{{ child.title }}</a>
                  <span class="collapse-button"><i class="fas fa-chevron-right"></i></span>
                </span>
                {% else %}<span style="color: silver;">{{ child.title }}</span>{% endif %}

                {% if child.thirdLevel %}
                <ul class="grandchild">
                  {% for grandchild in child.thirdLevel %}
                  <li class="{%- if page.url == grandchild.url -%}toc-active{%- endif -%}">
                    {% if grandchild.url %}<span class="toc-heading"><a href="{{ grandchild.url | prepend:site.baseurl }}">{{grandchild.title}}</a></span>
                    {% else %}<span style="color: silver;">{{ grandchild.title }}</span>{% endif %}
                  </li>
                  {% endfor %}
                </ul> {% endif %}
              </li>
              {% endfor %}
            </ul> {% endif %}
      </li>
      {% endfor %}
  </ul>

  <script>$("li.open").parents('li').toggleClass("open");</script>

</nav>
</div>
